-- 댓글 테이블 생성
create table comments (
  id bigint generated by default as identity primary key,
  post_id bigint references posts(id) on delete cascade,
  author_nickname text default '익명',
  content text not null,
  created_at timestamp with time zone default timezone('utc'::text, now()) not null
);

-- 누구나 댓글을 읽고 쓸 수 있도록 권한 설정 (선택)
alter table comments enable row level security;
create policy "Allow public read" on comments for select using (true);
create policy "Allow public insert" on comments for insert with check (true);